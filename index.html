<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Rabbit Landscaping - Get a Free Quote</title>
    <!-- Replace BOTH instances below with your REAL reCAPTCHA v3 site key -->
    <script src="https://www.google.com/recaptcha/api.js?render=YOUR_REAL_RECAPTCHA_SITE_KEY_HERE"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.12);
            max-width: 620px;
            width: 100%;
        }
        .logo {
            text-align: center;
            margin-bottom: 25px;
        }
        .logo img {
            max-width: 280px;
            height: auto;
            /* No filter applied – your logo.jpg should display as-is */
        }
        h1 {
            text-align: center;
            color: #d32f2f;
            margin-bottom: 10px;
            font-size: 2.2rem;
        }
        .tagline {
            text-align: center;
            font-style: italic;
            color: #555;
            margin: 0 0 20px;
            font-size: 1.1rem;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-bottom: 6px;
            font-weight: bold;
        }
        input, textarea, select {
            margin-bottom: 20px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box;
        }
        input[type="file"] {
            padding: 8px 0;
        }
        button {
            background-color: #d32f2f;
            color: #fff;
            padding: 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: background 0.3s;
        }
        button:hover {
            background-color: #b71c1c;
        }
        button:disabled {
            background-color: #999;
            cursor: not-allowed;
        }
        .note {
            font-size: 0.9em;
            color: #666;
            margin: 8px 0 20px;
        }
        #progress-container {
            background: #eee;
            border-radius: 6px;
            height: 24px;
            margin: 15px 0;
            overflow: hidden;
            display: none;
        }
        #progress-bar {
            background: #d32f2f;
            height: 100%;
            width: 0%;
            transition: width 0.4s;
            text-align: center;
            color: white;
            line-height: 24px;
            font-weight: bold;
        }
        #status-message.success {
            color: #2e7d32;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            font-size: 1.2em;
        }
        #status-message.error {
            color: #d32f2f;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
        }
        .contact-info {
            text-align: center;
            margin: 25px 0;
            font-size: 1.1em;
        }
        .contact-info a {
            color: #d32f2f;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="logo.jpg" alt="Black Rabbit Landscaping Logo">
        </div>
        <h1>Get Your Free Quote</h1>
        <p class="tagline">Simple, Affordable, Reliable – Central Florida Lawn Care</p>
        <p style="text-align: center; margin-bottom: 25px;">Call or text (407) 951-1663 or fill this out – we respond fast!</p>

        <form id="quote-form" action="https://formspree.io/f/mykdpzyz" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="_subject" value="New Black Rabbit Landscaping Quote Request">
            <input type="hidden" name="g-recaptcha-response" id="recaptcha-token">

            <label for="name">Full Name *</label>
            <input type="text" id="name" name="name" required autofocus>

            <label for="email">Email Address *</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">Phone Number *</label>
            <input type="tel" id="phone" name="phone" required placeholder="(407) XXX-XXXX">

            <label for="address">Property Address *</label>
            <input type="text" id="address" name="address" required placeholder="Street, City, FL ZIP">

            <label for="service">Service Interested In *</label>
            <select id="service" name="service" required>
                <option value="">Please select...</option>
                <option value="weekly-mowing">Weekly Lawn Mowing</option>
                <option value="biweekly-mowing">Bi-weekly Mowing</option>
                <option value="full-maintenance">Full Lawn Maintenance Package</option>
                <option value="landscaping">Landscaping / Mulch / Planting</option>
                <option value="trimming">Shrub & Tree Trimming</option>
                <option value="other">Other / Custom Request</option>
            </select>

            <label for="photos">Upload Yard Photos (optional – helps for accurate quote!)</label>
            <input type="file" id="photos" name="photos" accept="image/*" multiple>
            <div class="note">Select multiple JPG/PNG files if you want – drag & drop works.</div>

            <div id="progress-container">
                <div id="progress-bar">0%</div>
            </div>
            <div id="progress-text" class="note"></div>

            <label for="message">Details / Additional Notes</label>
            <textarea id="message" name="message" rows="5" placeholder="Yard size? How often? Problem areas (weeds, trees, bare spots)? Describe photos if uploaded..."></textarea>

            <button type="submit" id="submit-btn">Send Quote Request</button>
        </form>

        <div id="status-message"></div>

        <div class="contact-info">
            <p>Prefer to talk? <a href="tel:+14079511663">Call/Text: (407) 951-1663</a></p>
            <p>Follow us on <a href="https://www.facebook.com/blackrabbitlawn" target="_blank">Facebook</a></p>
        </div>

        <div class="note" style="text-align: center;">
            Protected by Google reCAPTCHA • We'll usually respond within 24 hours.
        </div>
    </div>

    <script>
        const form = document.getElementById('quote-form');
        const statusMessage = document.getElementById('status-message');
        const submitBtn = document.getElementById('submit-btn');
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const recaptchaTokenField = document.getElementById('recaptcha-token');

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            statusMessage.textContent = '';
            statusMessage.className = '';
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';

            grecaptcha.ready(function() {
                grecaptcha.execute('YOUR_REAL_RECAPTCHA_SITE_KEY_HERE', {action: 'submit_quote'}).then(function(token) {
                    recaptchaTokenField.value = token;

                    const formData = new FormData(form);
                    const xhr = new XMLHttpRequest();

                    progressBar.style.width = '0%';
                    progressBar.textContent = '0%';
                    progressText.textContent = '';
                    progressContainer.style.display = (document.getElementById('photos').files.length > 0) ? 'block' : 'none';

                    xhr.upload.addEventListener('progress', function(event) {
                        if (event.lengthComputable) {
                            const percent = Math.round((event.loaded / event.total) * 100);
                            progressBar.style.width = percent + '%';
                            progressBar.textContent = percent + '%';
                            const loaded = (event.loaded / 1048576).toFixed(1);
                            const total = (event.total / 1048576).toFixed(1);
                            progressText.textContent = `Uploading ${loaded} MB of ${total} MB`;
                        }
                    });

                    xhr.addEventListener('load', function() {
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'Send Quote Request';
                        if (xhr.status >= 200 && xhr.status < 300) {
                            statusMessage.textContent = 'Thank you! Your quote request has been sent. We\'ll get back to you soon.';
                            statusMessage.className = 'success';
                            form.reset();
                            progressContainer.style.display = 'none';
                            progressText.textContent = '';
                        } else {
                            statusMessage.textContent = 'Oops! Something went wrong. Please try again or call us.';
                            statusMessage.className = 'error';
                        }
                    });

                    xhr.addEventListener('error', function() {
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'Send Quote Request';
                        statusMessage.textContent = 'Network error – please check your connection.';
                        statusMessage.className = 'error';
                        progressContainer.style.display = 'none';
                    });

                    xhr.open('POST', form.action);
                    xhr.setRequestHeader('Accept', 'application/json');
                    xhr.send(formData);
                }).catch(function() {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Send Quote Request';
                    statusMessage.textContent = 'reCAPTCHA verification failed. Please try again.';
                    statusMessage.className = 'error';
                });
            });
        });
    </script>
</body>
</html>
